"0",""
"0","## income coefficients "
"0","income_coefficients <- income_data %>%"
"0","  mutate(race = case_when("
"0","    race_first == 1  ~ ""White"","
"0","    race_first == 2  ~ ""Black"","
"0","    race_first == 4  ~ ""Asian"","
"0","    race_first == 5  ~ ""Hispanic"","
"0","    race_first == 6  ~ ""American Indian"","
"0","    TRUE ~ ""other"")) %>% "
"0","  filter(race %in% c(""Black"", ""Asian"", ""Hispanic"", ""American Indian"")) %>% "
"0","  filter(byear %in% 1901:1927) %>% "
"0","  filter(AGE >= 18) %>% "
"0","  filter(income.wage.dollars > 0 & income.wage.dollars < 5010) %>% "
"0","  group_by(race) %>%"
"0","  do(tidy(glm(change_to_white ~ income.wage.dollars + woman + as.factor(byear), family = ""binomial"", data = .))) %>% "
"0","  filter(term %in% c(""income.wage.dollars"")) %>% "
"0","  mutate(estimate_odds = exp(estimate),"
"0","         low = exp(estimate - 1.96*std.error),"
"0","         upper = exp(estimate + 1.96*std.error)) "
"0",""
"0","## income model bind rows "
"0","odds_ratios <- bind_rows(education_coefficients, income_coefficients) %>% "
"0","  mutate(term = case_when("
"0","    term == ""educ.yrs"" ~ ""Education"","
"0","    term == ""income.wage.dollars"" ~ ""Wage Income"""
"0","  )) %>% "
"0","  ggplot() + "
"0","  geom_pointrange(aes(x = race, y = estimate_odds, ymin = low, ymax = upper)) + "
"0","  theme_cowplot(18) + "
"0","  background_grid() + "
"0","  geom_hline(yintercept = 1, linetype = ""dashed"") + "
"0","  coord_flip() + "
"0","  facet_wrap(~term, scales = ""free"", nrow = 1)+ "
"0","  labs(y = ""Odds Ratio"","
"0","       x = ""Initial Ethnoracial Category"""
"0","  )"
"0",""
"0","ggsave(plot = odds_ratios, filename = here(""figures/odds_ratio.png""), height = 6, width = 13)"
